tosca_definitions_version: cloudify_dsl_1_0


# Import cloudify types so can get ootb workflows
imports:
  - http://www.getcloudify.org/spec/cloudify/3.2/types.yaml
  - types/bt/types.yaml

inputs:

  cloud_pop_name:
      description: >
        The name of the cloud pop
  pe1_name:
      description: >
        The name of the first provider edge
  pe2_name:
      description: >
        The name of the second provider edge
  scr_name:
      description: >
        The name of the shared cloud router

node_templates:
  # Cloud PoP
  cloudPoP:
    type: bt.nodes.CloudPoP
    properties:
       cloud_pop_name: { get_input: cloud_pop_name }

  # Provider Edge 1
  providerEdge1:
    type: bt.nodes.ProviderEdge
    properties:
       pe_name: { get_input: pe1_name }

  # Provider Edge 2
  providerEdge2:
    type: bt.nodes.ProviderEdge
    properties:
       pe_name: { get_input: pe2_name }

  # Shared Cloud Router
  sharedCloudRouter:
    type: bt.nodes.ProviderEdge
    properties:
       scr_name: { get_input: scr_name }